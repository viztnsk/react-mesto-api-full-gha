{"ast":null,"code":"import _toConsumableArray from\"/Users/user/Desktop/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/user/Desktop/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Route,Switch,useHistory}from'react-router-dom';import{Redirect}from'react-router';import api from'../utils/Api.js';import*as auth from'../utils/auth.js';import Header from'./Header.js';import Main from'./Main.js';import Footer from'./Footer.js';import Register from'./Register';import Login from'./Login';import PopupWithForm from'./PopupWithForm.js';import ImagePopup from'./ImagePopup.js';import EditProfilePopup from'./EditProfilePopup.js';import EditAvatarPopup from'./EditAvatarPopup.js';import AddPlacePopup from'./AddPlacePopup.js';import ProtectedRoute from\"./PretectedRoute.js\";import InfoTooltip from'./InfoTooltip.js';import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggedIn=_useState2[0],setLoggedIn=_useState2[1];var _useState3=useState({name:'',about:'',avatar:''}),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var history=useHistory();var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cards=_useState10[0],setCards=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isEditProfilePopupOpen=_useState12[0],setEditPopupOpen=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isAddPlacePopupOpen=_useState14[0],setAddPopupOpen=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isEditAvatarPopupOpen=_useState16[0],setAvatarPopupOpen=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isDeletePopupOpen=_useState18[0],setDeletePopupOpen=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isInfoTooltipOpen=_useState20[0],setInfoTooltipOpen=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),selectedCard=_useState22[0],setselectedCard=_useState22[1];var closeAllPopups=function closeAllPopups(){setEditPopupOpen(false);setAddPopupOpen(false);setAvatarPopupOpen(false);setDeletePopupOpen(false);setInfoTooltipOpen(false);setselectedCard(null);};useEffect(function(){if(loggedIn){api.getUser().then(function(user){return setCurrentUser(user);}).catch(function(err){return console.log(err);});}},[loggedIn]);useEffect(function(){if(loggedIn){api.getCards().then(function(cards){return setCards(cards);}).catch(function(err){return console.log(err);});}},[loggedIn]);function handleLogin(email){setLoggedIn(true);setEmail(email);}useEffect(function(){var token=localStorage.getItem('token');if(token){auth.getContent(token).then(function(res){if(res){setEmail(res.data.email);handleLogin(res.data.email);}}).catch(function(err){return console.log(err);}).finally(function(){return history.push(\"/\");});}},[loggedIn,history,email]);function handleLoginSubmit(values){auth.authorize(values.email,values.password).then(function(res){localStorage.setItem('token',res.token);handleLogin(values.email);}).then(function(){return history.push('/');}).catch(function(err){console.log(err);setStatus(false);handleInfoTooltipOpen();});}function handleRegisterSubmit(values){auth.register(values.email,values.password).then(function(res){if(res){setStatus(true);handleInfoTooltipOpen();}}).then(function(){history.push('/sign-in');}).catch(function(err){console.log(err);setStatus(false);handleInfoTooltipOpen();});}function handleInfoTooltipOpen(){setInfoTooltipOpen(true);}function handleSignOut(){localStorage.removeItem('token');setEmail('');}function handleCardLike(card){var isLiked=card.likes.some(function(i){return i._id===currentUser._id;});api.changeLikeCardStatus(card._id,!isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){return console.log(err);});}function handleCardDelete(card){var isOwn=card.owner._id===currentUser._id;if(isOwn){api.deleteCard(card).then(function(){return setCards(cards.filter(function(c){return c._id!==card._id;}));}).catch(function(err){return console.log(err);});}}var handleUpdateUser=function handleUpdateUser(user){api.patchUser(user).then(function(user){setCurrentUser(user);closeAllPopups();}).catch(function(err){return console.log(err);});};var handleUpdateAvatar=function handleUpdateAvatar(avatar){api.setAvatar(avatar).then(function(user){setCurrentUser(user);closeAllPopups();}).catch(function(err){return console.log(err);});};var handleAddPlaceSubmit=function handleAddPlaceSubmit(card){api.addCard(card).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{email:email,onSignOut:handleSignOut}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/\",loggedIn:loggedIn,component:Main,onEditProfile:function onEditProfile(){return setEditPopupOpen(true);},onAddPlace:function onAddPlace(){return setAddPopupOpen(true);},onEditAvatar:function onEditAvatar(){return setAvatarPopupOpen(true);},isDeletePopup:function isDeletePopup(){return setDeletePopupOpen(true);},onCardClick:function onCardClick(card){return setselectedCard(card);},onCardLike:handleCardLike,onCardDelete:handleCardDelete,cards:cards}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",children:/*#__PURE__*/_jsx(Login,{onLogin:handleLoginSubmit})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",children:/*#__PURE__*/_jsx(Register,{onRegister:handleRegisterSubmit})}),/*#__PURE__*/_jsx(Route,{children:loggedIn?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Redirect,{to:\"/sign-in\"})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:isInfoTooltipOpen,onClose:closeAllPopups,status:status,success:\"Вы успешно зарегистрировались!\",fail:\"Что-то пошло не так! Попробуйте ещё раз.\"}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/_jsx(PopupWithForm,{name:\"deletion\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",button:\"\\u0414\\u0430\",isOpen:isDeletePopupOpen}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups})]})});}export default App;","map":{"version":3,"names":["useEffect","useState","Route","Switch","useHistory","Redirect","api","auth","Header","Main","Footer","Register","Login","PopupWithForm","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ProtectedRoute","InfoTooltip","CurrentUserContext","App","loggedIn","setLoggedIn","name","about","avatar","currentUser","setCurrentUser","status","setStatus","email","setEmail","history","cards","setCards","isEditProfilePopupOpen","setEditPopupOpen","isAddPlacePopupOpen","setAddPopupOpen","isEditAvatarPopupOpen","setAvatarPopupOpen","isDeletePopupOpen","setDeletePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","selectedCard","setselectedCard","closeAllPopups","getUser","then","user","catch","err","console","log","getCards","handleLogin","token","localStorage","getItem","getContent","res","data","finally","push","handleLoginSubmit","values","authorize","password","setItem","handleInfoTooltipOpen","handleRegisterSubmit","register","handleSignOut","removeItem","handleCardLike","card","isLiked","likes","some","i","_id","changeLikeCardStatus","newCard","state","map","c","handleCardDelete","isOwn","owner","deleteCard","filter","handleUpdateUser","patchUser","handleUpdateAvatar","setAvatar","handleAddPlaceSubmit","addCard"],"sources":["/Users/user/Desktop/react-mesto-api-full-gha/frontend/src/components/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport api from '../utils/Api.js';\nimport * as auth from '../utils/auth.js'\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport Register from './Register';\nimport Login from './Login';\nimport PopupWithForm from './PopupWithForm.js'\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js'\nimport EditAvatarPopup from './EditAvatarPopup.js'\nimport AddPlacePopup from './AddPlacePopup.js'\nimport ProtectedRoute from \"./PretectedRoute.js\";\nimport InfoTooltip from './InfoTooltip.js'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\n\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState({\n    name: '',\n    about: '',\n    avatar: ''\n  })\n  const [status, setStatus] = useState(false);\n  const [email, setEmail] = useState('');\n  const history = useHistory();\n\n  const [cards, setCards] = useState([]) \n  const [isEditProfilePopupOpen, setEditPopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const [selectedCard, setselectedCard] = useState();\n  \n  const closeAllPopups = () => {\n    setEditPopupOpen(false)\n    setAddPopupOpen(false)\n    setAvatarPopupOpen(false)\n    setDeletePopupOpen(false)\n    setInfoTooltipOpen(false)\n    setselectedCard(null)\n  }\n  useEffect(() => {\n    if (loggedIn) {\n      api.getUser()\n    .then((user) => setCurrentUser(user))\n    .catch(err => console.log(err))\n    }\n  }, [loggedIn])\n  \n  useEffect(() => {\n    if (loggedIn) {\n    api.getCards()\n    .then((cards) => setCards(cards))\n    .catch(err => console.log(err))\n    }\n  }, [loggedIn])\n\n  function handleLogin(email) {\n    setLoggedIn(true);\n    setEmail(email)\n  }\n\n  useEffect(() => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        auth.getContent(token).then((res) => {\n          if (res) {\n            setEmail(res.data.email)\n            handleLogin(res.data.email)\n          }\n        })\n        .catch((err) => console.log(err))\n        .finally(() => history.push(\"/\"))\n      }\n  }, [loggedIn, history, email] )\n\n  function handleLoginSubmit(values) {\n    auth.authorize(values.email, values.password)\n    .then((res) => {\n      localStorage.setItem('token', res.token)\n      handleLogin(values.email);\n    })\n    .then(() => history.push('/'))\n    .catch((err) => {\n      console.log(err)\n      setStatus(false)\n      handleInfoTooltipOpen()\n    });\n    }\n\n  function handleRegisterSubmit(values) {\n    auth.register(values.email, values.password)\n    .then((res) => {\n      if (res) {\n        setStatus(true)\n        handleInfoTooltipOpen()\n      }})\n      .then(() => {\n        history.push('/sign-in')\n      })\n      .catch((err) => {\n        console.log(err)\n        setStatus(false)\n        handleInfoTooltipOpen()\n      })\n  }\n  function handleInfoTooltipOpen() {\n    setInfoTooltipOpen(true)\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token')\n    setEmail('')\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch(err => console.log(err))\n  }\n  function handleCardDelete(card) {\n    const isOwn = card.owner._id === currentUser._id;\n    if (isOwn) {\n      api.deleteCard(card)\n      .then(() => setCards(cards.filter((c) => c._id !== card._id)))\n      .catch(err => console.log(err))\n    }\n  }\n  const handleUpdateUser = (user) => {\n    api.patchUser(user)\n    .then((user) => {\n      setCurrentUser(user)\n      closeAllPopups()\n    })\n    .catch(err => console.log(err))\n  }\n  const handleUpdateAvatar = (avatar) => {\n    api.setAvatar(avatar)\n    .then((user) => {\n      setCurrentUser(user)\n      closeAllPopups()\n    })\n    .catch(err => console.log(err))\n  }\n  const handleAddPlaceSubmit = (card) => {\n    api.addCard(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch(err => console.log(err))\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header email={email} onSignOut={handleSignOut}/>\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={() => setEditPopupOpen(true)} \n            onAddPlace={() => setAddPopupOpen(true)} \n            onEditAvatar={() => setAvatarPopupOpen(true)}\n            isDeletePopup={() => setDeletePopupOpen(true)}\n            onCardClick={(card) => setselectedCard(card)}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards} />\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLoginSubmit}/>\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegisterSubmit}/>\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n        <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} status={status} success={\"Вы успешно зарегистрировались!\"} fail={\"Что-то пошло не так! Попробуйте ещё раз.\"}/>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <PopupWithForm name='deletion' title='Вы уверены?' button=\"Да\" isOpen={isDeletePopupOpen}  />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />     \n      </div>   \n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}