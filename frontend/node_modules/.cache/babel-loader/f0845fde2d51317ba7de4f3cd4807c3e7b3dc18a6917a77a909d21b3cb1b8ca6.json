{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nexport const BASE_URL = 'https://auth.nomoreparties.co';\nfunction Auth() {\n  _s();\n  register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      return res;\n    }).catch(err => console.log(err));\n  };\n  const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(response => response.json()).then(data => {\n      if (data.user) {\n        localStorage.setItem('jwt', data.jwt);\n        return data;\n      } else {\n        return;\n      }\n    }).catch(err => console.log(err));\n  };\n  const getContent = jwt => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${jwt}`\n      }\n    }).then(res => res.json()).then(data => data);\n  };\n  useEffect(() => {\n    if (isLoggedIn) {}\n  });\n}\n_s(Auth, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Auth;\nexport default Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["useEffect","BASE_URL","Auth","register","password","email","fetch","method","headers","body","JSON","stringify","then","response","json","res","catch","err","console","log","authorize","data","user","localStorage","setItem","jwt","getContent","isLoggedIn"],"sources":["/Users/user/Desktop/react-auth/mesto-react/src/auth.js"],"sourcesContent":["import { useEffect } from \"react\";\n\nexport const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction Auth() {\n  register = (password, email) => {\n    return fetch (`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ password, email })\n    })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n  };\n  const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then((response => response.json()))\n    .then((data) => {\n      if (data.user){\n        localStorage.setItem('jwt', data.jwt);\n        return data;\n      }\n      else {\n        return;\n      }\n    })\n    .catch(err => console.log(err))\n  };\n  const getContent = (jwt) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        \"Content-Type\": \"application/json\",\n        \"Authorization\" : `Bearer ${jwt}`} \n    })\n    .then(res => res.json())\n    .then(data => data)\n  } \n  useEffect(() => {\n    if (isLoggedIn) {\n\n    }\n  })\n}\nexport default Auth;"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AAEjC,OAAO,MAAMC,QAAQ,GAAG,+BAA+B;AAEvD,SAASC,IAAI,GAAG;EAAA;EACdC,QAAQ,GAAG,CAACC,QAAQ,EAAEC,KAAK,KAAK;IAC9B,OAAOC,KAAK,CAAG,GAAEL,QAAS,SAAQ,EAAE;MAClCM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEP,QAAQ;QAAEC;MAAM,CAAC;IAC1C,CAAC,CAAC,CACDO,IAAI,CAAEC,QAAQ,IAAK;MAClB,OAAOA,QAAQ,CAACC,IAAI,EAAE;IACxB,CAAC,CAAC,CACDF,IAAI,CAAEG,GAAG,IAAK;MACb,OAAOA,GAAG;IACZ,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACnC,CAAC;EACD,MAAMG,SAAS,GAAG,CAACf,KAAK,EAAED,QAAQ,KAAK;IACrC,OAAOE,KAAK,CAAE,GAAEL,QAAS,SAAQ,EAAE;MACjCM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACN,KAAK;QAAED;MAAQ,CAAC;IACxC,CAAC,CAAC,CACDQ,IAAI,CAAEC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAE,CACnCF,IAAI,CAAES,IAAI,IAAK;MACd,IAAIA,IAAI,CAACC,IAAI,EAAC;QACZC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEH,IAAI,CAACI,GAAG,CAAC;QACrC,OAAOJ,IAAI;MACb,CAAC,MACI;QACH;MACF;IACF,CAAC,CAAC,CACDL,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACjC,CAAC;EACD,MAAMS,UAAU,GAAID,GAAG,IAAK;IAC1B,OAAOnB,KAAK,CAAE,GAAEL,QAAS,WAAU,EAAE;MACnCM,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAI,UAASiB,GAAI;MAAC;IACrC,CAAC,CAAC,CACDb,IAAI,CAACG,GAAG,IAAIA,GAAG,CAACD,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACS,IAAI,IAAIA,IAAI,CAAC;EACrB,CAAC;EACDrB,SAAS,CAAC,MAAM;IACd,IAAI2B,UAAU,EAAE,CAEhB;EACF,CAAC,CAAC;AACJ;AAAC,GAvDQzB,IAAI;AAAA,KAAJA,IAAI;AAwDb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}